clear all;
clc;
20221214awsAMF2_aliASBJ_rtt=importdata('20221214awsAMF2_aliASBJ_rtt_deal.txt');

figure1 = figure;
fontsize = 16;
axes1 = axes('Parent',figure1);
hold(axes1,'on');
grid on
plot1 = plot(RTT(:,1));
mdata=mean(RTT(2:100,1));
set(plot1,'DisplayName','32-bit','LineStyle','-',...
    'MarkerIndices',[1 10 20 30 40 50 60 70 80 90 100],...
    'Marker','v', 'MarkerSize', 6,...
    'Color','black');
set(plot1,'LineWidth',1);
ylim(axes1,[0 700]);
%同时改变x y轴显示的字体大小；
set(gca,'FontSize',fontsize,'YTick',[0 100 200 300 400 500 600 700],'XTick',[0 10 20 30 40 50 60 70 80 90 100]); 
% 创建 xlabel
xlabel('Times (s)','FontWeight','bold','FontSize',fontsize,'FontName','Times New Roman');
% 创建 ylabel
ylabel('The Network RTT(ms)','FontWeight','bold','FontSize',fontsize);

box(axes1,'on');
% 设置其余坐标轴属性
set(axes1,'FontName','Times New Roman');

% 绘制局部放大图
axes2 = axes('Parent',figure1,...
    'Position',[0.260125 0.24 0.568125 0.40]);
hold(axes2,'on'); 
grid on
plot2 = plot(RTT(2:100,1));
set(plot2,'DisplayName','32-bit','LineStyle','-',...
    'MarkerIndices',[10 20 30 40 50 60 70 80 90 100],...
    'Marker','v', 'MarkerSize', 6,...
    'Color','black','LineWidth',1);
% 取消以下行的注释以保留坐标轴的 Y 范围
xlim(axes2,[1 100]);
ylim(axes2,[3 5]);
set(axes2,'FontName','Times New Roman','FontSize',fontsize,'XTick',...
    [1 11 21 31 41 51 61 71 81 91 100],'XTickLabel',...
    {'','','','','','','','','','',''},'YTick',[3 3.5 4 4.5 5]);
box(axes2,'on');
% 创建 rectangle
annotation(figure1,'rectangle',...
    [0.146357142857143 0.124761904761905 0.763642857142857 0.044285714285715],...
    'LineWidth',1,...
    'LineStyle','--');

% 创建 arrow
annotation(figure1,'arrow',[0.878928571428572 0.834642857142857],...
    [0.173761904761905 0.306190476190476],'LineWidth',1);


% 创建 ellipse
annotation(figure1,'ellipse',...
    [0.121357142857143 0.822380952380953 0.049 0.0514285714285734],'Color',[1 0 0],'LineWidth',1);
% 创建 arrow
annotation(figure1,'arrow',[0.170357142857143 0.278928571428571],...
    [0.844238095238095 0.826190476190476],'LineWidth',1);

% 创建 textbox
annotation(figure1,'textbox',...
    [0.267071428571428 0.672380952380954 0.325785714285714 0.188095238095239],...
    'Color','black',...
    'String',{'\nabla: 637.35'},...
    'LineStyle','none',...
    'FontSize',14,...
    'FontName','Times New Roman',...
    'FitBoxToText','off');

annotation(figure1,'textbox',...
    [0.402857142857143 0.516190476190476 0.398571428571429 0.0590000000000028],...
    'String',{'average RTT : 3.65 ms'},...
    'FitBoxToText','off',...
     'FontSize',14,...
    'EdgeColor',[1 1 1]);
